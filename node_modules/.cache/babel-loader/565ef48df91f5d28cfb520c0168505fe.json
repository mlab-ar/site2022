{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Linker = void 0;\n\nconst Circle_1 = require(\"../../../Core/Utils/Circle\");\n\nconst CircleWarp_1 = require(\"../../../Core/Utils/CircleWarp\");\n\nconst ParticlesInteractorBase_1 = require(\"../../../Core/Utils/ParticlesInteractorBase\");\n\nconst NumberUtils_1 = require(\"../../../Utils/NumberUtils\");\n\nconst ColorUtils_1 = require(\"../../../Utils/ColorUtils\");\n\nfunction getLinkDistance(pos1, pos2, optDistance, canvasSize, warp) {\n  let distance = (0, NumberUtils_1.getDistance)(pos1, pos2);\n\n  if (!warp || distance <= optDistance) {\n    return distance;\n  }\n\n  const pos2NE = {\n    x: pos2.x - canvasSize.width,\n    y: pos2.y\n  };\n  distance = (0, NumberUtils_1.getDistance)(pos1, pos2NE);\n\n  if (distance <= optDistance) {\n    return distance;\n  }\n\n  const pos2SE = {\n    x: pos2.x - canvasSize.width,\n    y: pos2.y - canvasSize.height\n  };\n  distance = (0, NumberUtils_1.getDistance)(pos1, pos2SE);\n\n  if (distance <= optDistance) {\n    return distance;\n  }\n\n  const pos2SW = {\n    x: pos2.x,\n    y: pos2.y - canvasSize.height\n  };\n  distance = (0, NumberUtils_1.getDistance)(pos1, pos2SW);\n  return distance;\n}\n\nclass Linker extends ParticlesInteractorBase_1.ParticlesInteractorBase {\n  constructor(container) {\n    super(container);\n  }\n\n  isEnabled(particle) {\n    return particle.options.links.enable;\n  }\n\n  reset() {}\n\n  async interact(p1) {\n    var _a;\n\n    p1.links = [];\n    const pos1 = p1.getPosition(),\n          container = this.container,\n          canvasSize = container.canvas.size;\n\n    if (pos1.x < 0 || pos1.y < 0 || pos1.x > canvasSize.width || pos1.y > canvasSize.height) {\n      return;\n    }\n\n    const linkOpt1 = p1.options.links,\n          optOpacity = linkOpt1.opacity,\n          optDistance = (_a = p1.retina.linksDistance) !== null && _a !== void 0 ? _a : container.retina.linksDistance,\n          warp = linkOpt1.warp,\n          range = warp ? new CircleWarp_1.CircleWarp(pos1.x, pos1.y, optDistance, canvasSize) : new Circle_1.Circle(pos1.x, pos1.y, optDistance),\n          query = container.particles.quadTree.query(range);\n\n    for (const p2 of query) {\n      const linkOpt2 = p2.options.links;\n\n      if (p1 === p2 || !linkOpt2.enable || linkOpt1.id !== linkOpt2.id || p2.spawning || p2.destroyed || p1.links.map(t => t.destination).indexOf(p2) !== -1 || p2.links.map(t => t.destination).indexOf(p1) !== -1) {\n        continue;\n      }\n\n      const pos2 = p2.getPosition();\n\n      if (pos2.x < 0 || pos2.y < 0 || pos2.x > canvasSize.width || pos2.y > canvasSize.height) {\n        continue;\n      }\n\n      const distance = getLinkDistance(pos1, pos2, optDistance, canvasSize, warp && linkOpt2.warp);\n\n      if (distance > optDistance) {\n        return;\n      }\n\n      const opacityLine = (1 - distance / optDistance) * optOpacity;\n      this.setColor(p1);\n      p1.links.push({\n        destination: p2,\n        opacity: opacityLine\n      });\n    }\n  }\n\n  setColor(p1) {\n    const container = this.container,\n          linksOptions = p1.options.links;\n    let linkColor = linksOptions.id === undefined ? container.particles.linksColor : container.particles.linksColors.get(linksOptions.id);\n\n    if (!linkColor) {\n      const optColor = linksOptions.color;\n      linkColor = (0, ColorUtils_1.getLinkRandomColor)(optColor, linksOptions.blink, linksOptions.consent);\n\n      if (linksOptions.id === undefined) {\n        container.particles.linksColor = linkColor;\n      } else {\n        container.particles.linksColors.set(linksOptions.id, linkColor);\n      }\n    }\n  }\n\n}\n\nexports.Linker = Linker;","map":{"version":3,"names":["Object","defineProperty","exports","value","Linker","Circle_1","require","CircleWarp_1","ParticlesInteractorBase_1","NumberUtils_1","ColorUtils_1","getLinkDistance","pos1","pos2","optDistance","canvasSize","warp","distance","getDistance","pos2NE","x","width","y","pos2SE","height","pos2SW","ParticlesInteractorBase","constructor","container","isEnabled","particle","options","links","enable","reset","interact","p1","_a","getPosition","canvas","size","linkOpt1","optOpacity","opacity","retina","linksDistance","range","CircleWarp","Circle","query","particles","quadTree","p2","linkOpt2","id","spawning","destroyed","map","t","destination","indexOf","opacityLine","setColor","push","linksOptions","linkColor","undefined","linksColor","linksColors","get","optColor","color","getLinkRandomColor","blink","consent","set"],"sources":["/media/beni/Work3/git/github/site2022/node_modules/tsparticles/cjs/Interactions/Particles/Links/Linker.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Linker = void 0;\nconst Circle_1 = require(\"../../../Core/Utils/Circle\");\nconst CircleWarp_1 = require(\"../../../Core/Utils/CircleWarp\");\nconst ParticlesInteractorBase_1 = require(\"../../../Core/Utils/ParticlesInteractorBase\");\nconst NumberUtils_1 = require(\"../../../Utils/NumberUtils\");\nconst ColorUtils_1 = require(\"../../../Utils/ColorUtils\");\nfunction getLinkDistance(pos1, pos2, optDistance, canvasSize, warp) {\n    let distance = (0, NumberUtils_1.getDistance)(pos1, pos2);\n    if (!warp || distance <= optDistance) {\n        return distance;\n    }\n    const pos2NE = {\n        x: pos2.x - canvasSize.width,\n        y: pos2.y,\n    };\n    distance = (0, NumberUtils_1.getDistance)(pos1, pos2NE);\n    if (distance <= optDistance) {\n        return distance;\n    }\n    const pos2SE = {\n        x: pos2.x - canvasSize.width,\n        y: pos2.y - canvasSize.height,\n    };\n    distance = (0, NumberUtils_1.getDistance)(pos1, pos2SE);\n    if (distance <= optDistance) {\n        return distance;\n    }\n    const pos2SW = {\n        x: pos2.x,\n        y: pos2.y - canvasSize.height,\n    };\n    distance = (0, NumberUtils_1.getDistance)(pos1, pos2SW);\n    return distance;\n}\nclass Linker extends ParticlesInteractorBase_1.ParticlesInteractorBase {\n    constructor(container) {\n        super(container);\n    }\n    isEnabled(particle) {\n        return particle.options.links.enable;\n    }\n    reset() {\n    }\n    async interact(p1) {\n        var _a;\n        p1.links = [];\n        const pos1 = p1.getPosition(), container = this.container, canvasSize = container.canvas.size;\n        if (pos1.x < 0 || pos1.y < 0 || pos1.x > canvasSize.width || pos1.y > canvasSize.height) {\n            return;\n        }\n        const linkOpt1 = p1.options.links, optOpacity = linkOpt1.opacity, optDistance = (_a = p1.retina.linksDistance) !== null && _a !== void 0 ? _a : container.retina.linksDistance, warp = linkOpt1.warp, range = warp\n            ? new CircleWarp_1.CircleWarp(pos1.x, pos1.y, optDistance, canvasSize)\n            : new Circle_1.Circle(pos1.x, pos1.y, optDistance), query = container.particles.quadTree.query(range);\n        for (const p2 of query) {\n            const linkOpt2 = p2.options.links;\n            if (p1 === p2 ||\n                !linkOpt2.enable ||\n                linkOpt1.id !== linkOpt2.id ||\n                p2.spawning ||\n                p2.destroyed ||\n                p1.links.map((t) => t.destination).indexOf(p2) !== -1 ||\n                p2.links.map((t) => t.destination).indexOf(p1) !== -1) {\n                continue;\n            }\n            const pos2 = p2.getPosition();\n            if (pos2.x < 0 || pos2.y < 0 || pos2.x > canvasSize.width || pos2.y > canvasSize.height) {\n                continue;\n            }\n            const distance = getLinkDistance(pos1, pos2, optDistance, canvasSize, warp && linkOpt2.warp);\n            if (distance > optDistance) {\n                return;\n            }\n            const opacityLine = (1 - distance / optDistance) * optOpacity;\n            this.setColor(p1);\n            p1.links.push({\n                destination: p2,\n                opacity: opacityLine,\n            });\n        }\n    }\n    setColor(p1) {\n        const container = this.container, linksOptions = p1.options.links;\n        let linkColor = linksOptions.id === undefined\n            ? container.particles.linksColor\n            : container.particles.linksColors.get(linksOptions.id);\n        if (!linkColor) {\n            const optColor = linksOptions.color;\n            linkColor = (0, ColorUtils_1.getLinkRandomColor)(optColor, linksOptions.blink, linksOptions.consent);\n            if (linksOptions.id === undefined) {\n                container.particles.linksColor = linkColor;\n            }\n            else {\n                container.particles.linksColors.set(linksOptions.id, linkColor);\n            }\n        }\n    }\n}\nexports.Linker = Linker;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}